---
layout: post
title: Факториал
date: 2022-12-18
categories: ["Swift", "SPL"]
---

# Факториал

**Факториа́л** — это функция, определённая на множестве неотрицательных целых чисел.

Название происходит от лат. *factorialis* — действующий, производящий, умножающий.

Факториал натурального числа "n" обозначается **`n!`**, произносится *эн факториа́л*.

Факториал натурального числа `n` определяется как произведение всех натуральных чисел от `1` до `n` включительно:

![Факториал натурального числа n](https://obodev.github.io/assets/images/factorial.jpg "Факториал натурального числа n")

Например,

```swift
5! = 1 * 2 * 3 * 4 * 5 = 120
```

> **Натурáльные чи́сла** (от лат. naturalis «естественный») — числа, возникающие естественным образом при счёте (1, 2, 3, 4, 5, 6, 7 и так далее). Последовательность всех натуральных чисел, расположенных в порядке возрастания, называется **натуральным рядом**.
>
> **Це́лые чи́сла** — расширение множества натуральных чисел, получаемое добавлением к нему нуля и отрицательных чисел. Необходимость рассмотрения целых чисел продиктована невозможностью в общем случае вычесть из одного натурального числа другое — можно вычитать только меньшее число из большего. Введение нуля и отрицательных чисел делает вычитание такой же полноценной операцией, как сложение.
>
> ![Целые числа на числовой прямой](https://obodev.github.io/assets/images/factorial-number-line.jpg "Целые числа на числовой прямой")

Для `n = 0` принимается в качестве соглашения, что

```swift
0! = 1
```

## Где используется факториал?

Факториал активно используется в различных разделах математики: комбинаторике, математическом анализе, теории чисел, функциональном анализе и др.

Факториал является чрезвычайно быстро растущей функцией. Он растёт быстрее, чем любая показательная функция или любая степенная функция, а также быстрее, чем любая сумма произведений этих функций. Однако степенно-показательная функция `n^(n)` растёт быстрее факториала, так же как и большинство двойных степенных, например `e^(e^(n))`:

### Пример значений факториала для n от 0 до 20

| n  | n!                  |
|:---|:--------------------|
| 0  | 1                   |
| 1  | 1                   |
| 2  | 2                   |
| 3  | 6                   |
| 4  | 24                  |
| 5  | 120                 |
| 6  | 720                 |
| 7  | 5040                |
| 8  | 40320               |
| 9  | 362880              |
| 10 | 3628800             |
| 11 | 39916800            |
| 12 | 479001600           |
| 13 | 6227020800          |
| 14 | 87178291200         |
| 15 | 1307674368000       |
| 16 | 20922789888000      |
| 17 | 355687428096000     |
| 18 | 6402373705728000    |
| 19 | 121645100408832000  |
| 20 | 2432902008176640000 |

## Свойства факториала

### Рекуррентная формула

Так как факториал `n` - это произведение всех натуральных чисел от `1` до `n` включительно, то можно вывести рекуррентную формулу.

Для примера возьмём `4!`:

```swift
4! = 1 * 2 * 3 * 4
```

Можно сгруппировать и представить в виде:

```swift
4! = (1 * 2) * 3 * 4 = 2! * 3 * 4 = (2! * 3) * 4 = 3! * 4 
```

Или так:

```swift
4! = (1 * 2 * 3) * 4 = 3! * 4 
```

Поэтому факториал `n!` может быть задан следующей рекуррентной формулой:

| n     | n!                |
|:------|:------------------|
| n = 1 | n! = 1            |
| n > 1 | n! = (n - 1)! * n |

Как следствие:

```swift
n! = (n + m)! / (n + m) / (n + (m - 1)) / ... / (n + 1)

2! = 4! / 4 / 3 
```

### Комбинаторная интерпретация

В комбинаторике факториал натурального числа `n` интерпретируется как количество перестановок (упорядочиваний) множества из `n` элементов. 

Один элемент можно упорядочить одним способом. Два элемента - множество (A,B) - двумя перестановками:

|  AB  |      |
|:----:|:----:|
| AB   | BA   |

Например, для множества (A,B,C,D) из 4-х элементов существует `4! = 24` перестановки:

| ABCD |      |      |      |
|:----:|:----:|:----:|:----:|
| ABCD | BACD | CABD | DABC |
| ABDC | BADC | CADB | DACB |
| ACBD | BCAD | CBAD | DBAC |
| ACDB | BCDA | CBDA | DBCA |
| ADBC | BDAC | CDAB | DCAB |
| ADCB | BDCA | CDBA | DCBA |

Комбинаторная интерпретация факториала служит обоснованием тождества `0! = 1`, т.к. пустое множество упорядочено единственным способом.

Остальные свойства и способы применения факториала в данной статье не рассматриваются.

## Историческая справка

Термин **факториал** ввел в 1800 году французский математик Аргобаст Луи Франсуа Антуан.

Обозначение `n!` придумал чуть позже немецкий математик Кристиан Крамп в 1808 году, хотя факториальные выражения появились ещё в ранних исследованиях по комбинаторике.

Значительный вклад в развитие комбинаторики и изучение факториала внесли такие учёные как  Леонард Эйлер, Абрахам де Муавр, Джеймс Стирлинг.

Важным этапом стало открытие *формулы Стирлинга*, которую Джеймс Стирлинг опубликовал в своём трактате «Дифференциальный метод» (лат. Methodus differentialis, 1730 год). 

## Интересное

Интересные факториалы:

```swift
145 = 1! + 4! + 5! = 1 + 24 + 120
40 585 = 4! + 0! + 5! +8! + 5! = 24 + 1 + 120 + 40320 + 120
```

---

## Еще полезные ссылки

